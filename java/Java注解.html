<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Java 注解(Annotation) | Longqinx&#39;s Notes</title>
    <meta name="generator" content="VuePress 1.9.10">
    
    <meta name="description" content="Just playing around">
    
    <link rel="preload" href="/assets/css/0.styles.9f84806b.css" as="style"><link rel="preload" href="/assets/js/app.9fc73bf5.js" as="script"><link rel="preload" href="/assets/js/2.0c4bddf9.js" as="script"><link rel="preload" href="/assets/js/1.50b457b8.js" as="script"><link rel="preload" href="/assets/js/35.3dfd9ff7.js" as="script"><link rel="prefetch" href="/assets/js/10.325b9f09.js"><link rel="prefetch" href="/assets/js/11.845e3692.js"><link rel="prefetch" href="/assets/js/12.ecdb524b.js"><link rel="prefetch" href="/assets/js/13.3f3f6a36.js"><link rel="prefetch" href="/assets/js/14.eb7a3d07.js"><link rel="prefetch" href="/assets/js/15.b60f3925.js"><link rel="prefetch" href="/assets/js/16.85253907.js"><link rel="prefetch" href="/assets/js/17.c2838453.js"><link rel="prefetch" href="/assets/js/18.3256f17f.js"><link rel="prefetch" href="/assets/js/19.d8afd0ae.js"><link rel="prefetch" href="/assets/js/20.10e47ab9.js"><link rel="prefetch" href="/assets/js/21.33b300c9.js"><link rel="prefetch" href="/assets/js/22.271589f5.js"><link rel="prefetch" href="/assets/js/23.36377001.js"><link rel="prefetch" href="/assets/js/24.4b7aa88b.js"><link rel="prefetch" href="/assets/js/25.56528869.js"><link rel="prefetch" href="/assets/js/26.b52f2341.js"><link rel="prefetch" href="/assets/js/27.efe3c099.js"><link rel="prefetch" href="/assets/js/28.4b2afb08.js"><link rel="prefetch" href="/assets/js/29.3395be40.js"><link rel="prefetch" href="/assets/js/3.af33e5d6.js"><link rel="prefetch" href="/assets/js/30.0f02679a.js"><link rel="prefetch" href="/assets/js/31.660f824f.js"><link rel="prefetch" href="/assets/js/32.e88c0552.js"><link rel="prefetch" href="/assets/js/33.707922df.js"><link rel="prefetch" href="/assets/js/34.7e9d365c.js"><link rel="prefetch" href="/assets/js/36.6c8f895d.js"><link rel="prefetch" href="/assets/js/37.1a64224f.js"><link rel="prefetch" href="/assets/js/38.b9caece4.js"><link rel="prefetch" href="/assets/js/39.0a4f8509.js"><link rel="prefetch" href="/assets/js/4.45665f8a.js"><link rel="prefetch" href="/assets/js/40.167f9203.js"><link rel="prefetch" href="/assets/js/41.a4cc5d7f.js"><link rel="prefetch" href="/assets/js/5.7098d77a.js"><link rel="prefetch" href="/assets/js/6.0c0a0f39.js"><link rel="prefetch" href="/assets/js/7.6a854e57.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.77260563.js">
    <link rel="stylesheet" href="/assets/css/0.styles.9f84806b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="Longqinx's Notes" class="logo"> <span class="site-name can-hide">Longqinx's Notes</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/java/" class="nav-link router-link-active">
  Java
</a></div><div class="nav-item"><a href="/c++/" class="nav-link">
  C/C++
</a></div><div class="nav-item"><a href="/linux/" class="nav-link">
  Linux
</a></div><div class="nav-item"><a href="/dsa/" class="nav-link">
  数据结构与算法
</a></div><div class="nav-item"><a href="/project/" class="nav-link">
  我的小项目
</a></div><div class="nav-item"><a href="/blog/" class="nav-link">
  技术文章
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="关于" class="dropdown-title"><span class="title">关于</span> <span class="arrow down"></span></button> <button type="button" aria-label="关于" class="mobile-dropdown-title"><span class="title">关于</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/about/contactMe.html" class="nav-link">
  联系我
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/java/" class="nav-link router-link-active">
  Java
</a></div><div class="nav-item"><a href="/c++/" class="nav-link">
  C/C++
</a></div><div class="nav-item"><a href="/linux/" class="nav-link">
  Linux
</a></div><div class="nav-item"><a href="/dsa/" class="nav-link">
  数据结构与算法
</a></div><div class="nav-item"><a href="/project/" class="nav-link">
  我的小项目
</a></div><div class="nav-item"><a href="/blog/" class="nav-link">
  技术文章
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="关于" class="dropdown-title"><span class="title">关于</span> <span class="arrow down"></span></button> <button type="button" aria-label="关于" class="mobile-dropdown-title"><span class="title">关于</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/about/contactMe.html" class="nav-link">
  联系我
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Java 注解(Annotation)</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/java/Java%E6%B3%A8%E8%A7%A3.html#何处可使用注解" class="sidebar-link">何处可使用注解：</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/java/Java%E6%B3%A8%E8%A7%A3.html#声明一个注解类型" class="sidebar-link">声明一个注解类型</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/java/Java%E6%B3%A8%E8%A7%A3.html#预定义的注解类型" class="sidebar-link">预定义的注解类型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/java/Java%E6%B3%A8%E8%A7%A3.html#deprecated" class="sidebar-link">@Deprecated</a></li><li class="sidebar-sub-header"><a href="/java/Java%E6%B3%A8%E8%A7%A3.html#override" class="sidebar-link">@Override</a></li><li class="sidebar-sub-header"><a href="/java/Java%E6%B3%A8%E8%A7%A3.html#supresswarnings" class="sidebar-link">@SupressWarnings</a></li><li class="sidebar-sub-header"><a href="/java/Java%E6%B3%A8%E8%A7%A3.html#safevarargs" class="sidebar-link">@SafeVarargs</a></li><li class="sidebar-sub-header"><a href="/java/Java%E6%B3%A8%E8%A7%A3.html#functionalinterface" class="sidebar-link">@FunctionalInterface</a></li><li class="sidebar-sub-header"><a href="/java/Java%E6%B3%A8%E8%A7%A3.html#retention" class="sidebar-link">@Retention</a></li><li class="sidebar-sub-header"><a href="/java/Java%E6%B3%A8%E8%A7%A3.html#documented" class="sidebar-link">@Documented</a></li><li class="sidebar-sub-header"><a href="/java/Java%E6%B3%A8%E8%A7%A3.html#target" class="sidebar-link">@Target</a></li><li class="sidebar-sub-header"><a href="/java/Java%E6%B3%A8%E8%A7%A3.html#inherited" class="sidebar-link">@Inherited</a></li><li class="sidebar-sub-header"><a href="/java/Java%E6%B3%A8%E8%A7%A3.html#repeatable" class="sidebar-link">@Repeatable</a></li></ul></li><li><a href="/java/Java%E6%B3%A8%E8%A7%A3.html#可重复注解" class="sidebar-link">可重复注解</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/java/Java%E6%B3%A8%E8%A7%A3.html#检索、使用注解" class="sidebar-link">检索、使用注解</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="java-注解-annotation"><a href="#java-注解-annotation" class="header-anchor">#</a> Java 注解(Annotation)</h1> <h2 id="何处可使用注解"><a href="#何处可使用注解" class="header-anchor">#</a> 何处可使用注解：</h2> <ul><li><p>用于声明时</p> <ul><li>类声明</li> <li>变量声明</li> <li>方法声明</li> <li>其他程序元素的声明</li></ul></li> <li><p>使用类型时（类型注解）</p> <ul><li><p>类实例的创建表达式</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">new</span> <span class="token annotation punctuation">@Interned</span> <span class="token class-name">MyObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>类型转换</p> <div class="language-java extra-class"><pre class="language-java"><code>myString <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token annotation punctuation">@NonNull</span> <span class="token class-name">String</span><span class="token punctuation">)</span> str<span class="token punctuation">;</span>
</code></pre></div></li> <li><p><code>implements</code>子句</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Mylist</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">implements</span> <span class="token annotation punctuation">@Readonly</span> <span class="token class-name">List</span><span class="token operator">&lt;</span><span class="token annotation punctuation">@Readonly</span> <span class="token class-name">T</span><span class="token operator">&gt;</span><span class="token punctuation">{</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>异常抛出声明</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">void</span> <span class="token function">handle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">throws</span> <span class="token annotation punctuation">@Critical</span> <span class="token class-name">SomeException</span><span class="token punctuation">{</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul></li></ul> <h2 id="声明一个注解类型"><a href="#声明一个注解类型" class="header-anchor">#</a> 声明一个注解类型</h2> <ul><li><p>许多注解代替了代码中的注释</p></li> <li><p>如在每个类开始时写注释以提供某些信息的代码：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Generation3List</span> <span class="token keyword">extends</span> <span class="token class-name">Generation2List</span> <span class="token punctuation">{</span>

   <span class="token comment">// Author: John Doe</span>
   <span class="token comment">// Date: 3/17/2002</span>
   <span class="token comment">// Current revision: 6</span>
   <span class="token comment">// Last modified: 4/12/2004</span>
   <span class="token comment">// By: Jane Doe</span>
   <span class="token comment">// Reviewers: Alice, Bill, Cindy</span>

   <span class="token comment">// class code goes here</span>

<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>用注解的方式添加这种元数据(metadata)，首先要定义一个<strong>注解类型</strong>，语法如下：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@interface</span> <span class="token class-name">ClassPreamble</span> <span class="token punctuation">{</span>
   <span class="token class-name">String</span> <span class="token function">author</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token class-name">String</span> <span class="token function">date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token keyword">int</span> <span class="token function">currentRevision</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token number">1</span><span class="token punctuation">;</span>
   <span class="token class-name">String</span> <span class="token function">lastModified</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token string">&quot;N/A&quot;</span><span class="token punctuation">;</span>
   <span class="token class-name">String</span> <span class="token function">lastModifiedBy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token string">&quot;N/A&quot;</span><span class="token punctuation">;</span>
   <span class="token comment">// Note use of array</span>
   <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">reviewers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>说明：</p> <ul><li>自定义注解使用<code>@interface</code></li> <li>注解类型的定义类似于接口的定义，实际上注解类型是接口的一种形式</li> <li>该注解类型中声明了注解类型元素，其声明方式有点像方法，且其可以使用<code>default</code>关键字指定默认值</li></ul></li> <li><p>此时可在类声明时用下述方法加入注释：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@ClassPreamble</span> <span class="token punctuation">(</span>
   author <span class="token operator">=</span> <span class="token string">&quot;John Doe&quot;</span><span class="token punctuation">,</span>
   date <span class="token operator">=</span> <span class="token string">&quot;3/17/2002&quot;</span><span class="token punctuation">,</span>
   currentRevision <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">,</span>
   lastModified <span class="token operator">=</span> <span class="token string">&quot;4/12/2004&quot;</span><span class="token punctuation">,</span>
   lastModifiedBy <span class="token operator">=</span> <span class="token string">&quot;Jane Doe&quot;</span><span class="token punctuation">,</span>
   <span class="token comment">// Note array notation</span>
   reviewers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;Alice&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Bob&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Cindy&quot;</span><span class="token punctuation">}</span>
<span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Generation3List</span> <span class="token keyword">extends</span> <span class="token class-name">Generation2List</span> <span class="token punctuation">{</span>

<span class="token comment">// class code goes here</span>

<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>但需要让信息出现在java-doc中，需要用<code>@Documented</code>注解注解<code>@ClassPreamble</code>：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// import this to use @Documented</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Documented</span>
<span class="token annotation punctuation">@interface</span> <span class="token class-name">ClassPreamble</span> <span class="token punctuation">{</span>

   <span class="token comment">// Annotation element definitions</span>
   
<span class="token punctuation">}</span>
</code></pre></div></li></ul> <h2 id="预定义的注解类型"><a href="#预定义的注解类型" class="header-anchor">#</a> 预定义的注解类型</h2> <ul><li><p>Java SE预定义了一些注解</p></li> <li><p>用于Java语言本身的注解(编译器使用，定义于java.lang)</p> <ul><li>@Deprecated</li> <li>@Override</li> <li>@SupressWarnings</li> <li>@SafeVarargs</li> <li>@FunctionalInterface</li></ul></li> <li><h3 id="deprecated"><a href="#deprecated" class="header-anchor">#</a> @Deprecated</h3> <ul><li><p>指明被注解的元素是过时的，不建议被使用的</p></li> <li><p>当被此注解的元素被使用时编译器会发出警告</p></li> <li><p>当某元素被此注解时，其也应该被写入文档，使用<code>@deprecated</code>标签：</p> <div class="language-java extra-class"><pre class="language-java"><code>  <span class="token comment">// Javadoc comment follows</span>
    <span class="token comment">/**
     * @deprecated
     * explanation of why it was deprecated
     */</span>
    <span class="token annotation punctuation">@Deprecated</span>
    <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">deprecatedMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul></li> <li><h3 id="override"><a href="#override" class="header-anchor">#</a> @Override</h3> <ul><li>通知编译器被注解的元素复写了父类中的元素</li> <li>被注解的元素没能成功重写父类中的元素时，编译器报错</li></ul></li> <li><h3 id="supresswarnings"><a href="#supresswarnings" class="header-anchor">#</a> @SupressWarnings</h3> <ul><li><p>用于抑制编译器的某种具体警告</p></li> <li><p>抑制使用过时的元素的警告：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// use a deprecated method and tell </span>
<span class="token comment">// compiler not to generate a warning</span>
<span class="token annotation punctuation">@SuppressWarnings</span><span class="token punctuation">(</span><span class="token string">&quot;deprecation&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">void</span> <span class="token function">useDeprecatedMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// deprecation warning</span>
    <span class="token comment">// - suppressed</span>
    objectOne<span class="token punctuation">.</span><span class="token function">deprecatedMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>Java 语言定义了两种具体警告分类：</p> <ul><li>deprecated</li> <li>unchecked</li></ul></li> <li><p>要抑制多个种警告时，使用以下语法：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@SuppressWarnings</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">&quot;unchecked&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;deprecated&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li></ul></li> <li><h3 id="safevarargs"><a href="#safevarargs" class="header-anchor">#</a> @SafeVarargs</h3> <ul><li>被应用于方法或者构造函数时，确保代码不会进行潜在的不安全的对于可变参数的操作</li> <li>使用此注解时，与可变参数有关的unchecked警告会被抑制</li></ul></li> <li><h3 id="functionalinterface"><a href="#functionalinterface" class="header-anchor">#</a> @FunctionalInterface</h3> <ul><li>指明类型声明会被认为是Java语言规范定义的函数接口</li></ul></li> <li><p><strong>用于注解的注解</strong>：</p> <ul><li>@Retention    保留</li> <li>@Documented</li> <li>@Target</li> <li>@Inherited</li> <li>@Repeatable</li></ul></li> <li><h3 id="retention"><a href="#retention" class="header-anchor">#</a> @Retention</h3> <ul><li>用于指明被注解的注解如何保存，可取值：
<ul><li><strong>RetentionPolicy.SOURCE</strong>：仅在源代码层次可被获取，被编译器忽略</li> <li><strong>RetentionPolicy.CLASS</strong>：可被编译器在编译时获取，但会被Java虚拟机忽略</li> <li><strong>RetentionPolicy.RUNTIME</strong>：可被Java虚拟机获取，可在运行时使用</li></ul></li></ul></li> <li><h3 id="documented"><a href="#documented" class="header-anchor">#</a> @Documented</h3> <ul><li>此注解的元素会被javadoc tool写进文档（默认注解不被包含进文档）</li></ul></li> <li><h3 id="target"><a href="#target" class="header-anchor">#</a> @Target</h3> <ul><li>注解另一个注解，指明被注解的注解能修饰何种元素，可取值：
<ul><li><strong>ElementType.ANNOTATION_TYPE</strong>：可用于另一个注解</li> <li><strong>ElementType.CONSTRUCTOR</strong>：可用于构造函数</li> <li><strong>ElementType.FIELD</strong>：可用于属性或变量</li> <li><strong>ElementType.LOCAL_VARIABLE</strong>：可用于局部变量</li> <li><strong>ElementType.METHOD</strong>：可用于方法</li> <li><strong>ElementType.PACKAGE</strong>：用于包声明</li> <li><strong>ElementType.PARAMETER</strong>：用于方法参数</li> <li><strong>ElementType.TYPE</strong>：可用于类的任何元素</li></ul></li></ul></li> <li><h3 id="inherited"><a href="#inherited" class="header-anchor">#</a> @Inherited</h3> <ul><li>指明被注解的注解可从超类继承(默认不可以)</li> <li>当用户查询此类型的注解时，此类无对应类型的注解，其会向此类的父类查询此类型的注解</li> <li>仅可用于注解类的注解</li></ul></li> <li><h3 id="repeatable"><a href="#repeatable" class="header-anchor">#</a> @Repeatable</h3> <ul><li>指明被注解的注解可在同一个定义上使用多次</li></ul></li></ul> <h2 id="可重复注解"><a href="#可重复注解" class="header-anchor">#</a> 可重复注解</h2> <ul><li><p>例：当需要使用计时器来有计划地执行某种行为，如每月最后一天、每周周五11点执行。而使用<code>@Schedule</code>注解来实现，此时一个用于设置最后一天，一个用于设置每周五：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Schedule</span><span class="token punctuation">(</span>dayOfMonth<span class="token operator">=</span><span class="token string">&quot;last&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Schedule</span><span class="token punctuation">(</span>dayOfWeek<span class="token operator">=</span><span class="token string">&quot;friday&quot;</span><span class="token punctuation">,</span>hour<span class="token operator">=</span><span class="token string">&quot;23&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doPeriodCleanup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>创建可重复使用注解的方式：</p> <ul><li><p>使用<code>@Repeatable</code>声明一个<code>Repeatable</code>注解类型：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Repeatable</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Repeatable</span><span class="token punctuation">(</span><span class="token class-name">Schedules</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token annotation punctuation">@interface</span> <span class="token class-name">Schedule</span> <span class="token punctuation">{</span>
  <span class="token class-name">String</span> <span class="token function">dayOfMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token string">&quot;first&quot;</span><span class="token punctuation">;</span>
  <span class="token class-name">String</span> <span class="token function">dayOfWeek</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token string">&quot;Mon&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">int</span> <span class="token function">hour</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token number">12</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>说明：</p> <ul><li>其中，@Repeatable小括号中是容器注解类型，由编译器产生用于存储重复的注解</li> <li>一个此处为Schedules，所有由重复的Schedule注解均存放在@Schedules注解中</li></ul></li> <li><p>声明容器注解类型：</p> <ul><li>容器注解类型必须有一个<code>value</code>元素，其为存放的注解类型的数组</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token annotation punctuation">@interface</span> <span class="token class-name">Schedules</span><span class="token punctuation">{</span>
    <span class="token class-name">Schedule</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//Schedule注解需是被@Repeatable修饰的</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul></li></ul> <h2 id="检索、使用注解"><a href="#检索、使用注解" class="header-anchor">#</a> 检索、使用注解</h2> <ul><li><p>可使用Java的反射机制及其API获取注解信息</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">//当被请求的类仅存在一个注解时，返回单个注解。</span>
<span class="token comment">//被请求的类型存在多个注解时，可通过获取其容器注解的方式获得这些注解</span>
<span class="token class-name">AnnotateElement</span><span class="token punctuation">.</span><span class="token function">getAnnotation</span><span class="token punctuation">(</span><span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>转<strong>AnnotatedElement</strong>类了解关于注解获取的一些方法</p></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.9fc73bf5.js" defer></script><script src="/assets/js/2.0c4bddf9.js" defer></script><script src="/assets/js/1.50b457b8.js" defer></script><script src="/assets/js/35.3dfd9ff7.js" defer></script>
  </body>
</html>
